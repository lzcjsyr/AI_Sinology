2026-02-24 17:49:23,327 | INFO | 当前项目: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun
2026-02-24 17:49:23,328 | INFO | 执行阶段范围: 1 -> 5
2026-02-24 17:49:23,328 | INFO | 开始执行第 1 阶段
2026-02-24 17:49:23,355 | WARNING | LLM request failed attempt=1 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:25,360 | WARNING | LLM request failed attempt=2 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:29,371 | WARNING | LLM request failed attempt=3 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:29,373 | WARNING | 生成 target_themes 失败，使用回退策略: LLM 请求失败，重试耗尽: <urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:29,376 | WARNING | LLM request failed attempt=1 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:31,385 | WARNING | LLM request failed attempt=2 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:35,393 | WARNING | LLM request failed attempt=3 error=<urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 17:49:35,394 | ERROR | 执行失败: LLM 请求失败，重试耗尽: <urlopen error [Errno 8] nodename nor servname provided, or not known>
Traceback (most recent call last):
  File "/Users/dielangli/Desktop/Coding/AI汉学/main.py", line 186, in main
    run_stage1_topic_selection(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        project_dir=project_dir,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        overwrite=args.overwrite_stage1,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dielangli/Desktop/Coding/AI汉学/workflow/stage1_topic_selection.py", line 115, in run_stage1_topic_selection
    response = llm_client.chat(messages, temperature=0.4)
  File "/Users/dielangli/Desktop/Coding/AI汉学/core/llm_client.py", line 42, in chat
    data = self._post_json(payload)
  File "/Users/dielangli/Desktop/Coding/AI汉学/core/llm_client.py", line 99, in _post_json
    raise RuntimeError(f"LLM 请求失败，重试耗尽: {last_error}")
RuntimeError: LLM 请求失败，重试耗尽: <urlopen error [Errno 8] nodename nor servname provided, or not known>
2026-02-24 18:51:57,292 | INFO | 当前项目: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun
2026-02-24 18:51:57,293 | INFO | 执行阶段范围: 1 -> 5
2026-02-24 18:51:57,293 | INFO | 开始执行第 1 阶段
2026-02-24 18:55:58,953 | INFO | 阶段一完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun/1_research_proposal.md
2026-02-24 18:55:58,953 | INFO | 开始执行第 2 阶段
2026-02-24 18:55:59,006 | INFO | 达到 max_fragments=6，提前结束切片。
2026-02-24 18:55:59,006 | INFO | 阶段2.1完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun/_processed_data/kanripo_fragments.jsonl (records=6)
2026-02-24 18:55:59,007 | INFO | llm1 从 index=0 开始处理，总量=6
2026-02-24 18:55:59,016 | INFO | llm2 从 index=0 开始处理，总量=6
2026-02-24 18:57:13,499 | INFO | 阶段2.2完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun/2_llm1_raw.jsonl, /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun/2_llm2_raw.jsonl
2026-02-24 18:57:13,502 | INFO | 阶段2.3-2.4完成: consensus=0 disputed=0 verified=0 final=0
2026-02-24 18:57:13,502 | INFO | 开始执行第 3 阶段
2026-02-24 18:57:13,502 | ERROR | 执行失败: 阶段三无法开始：2_final_corpus 为空
Traceback (most recent call last):
  File "/Users/dielangli/Desktop/Coding/AI汉学/main.py", line 242, in main
    run_stage3_outlining(project_dir=project_dir, llm_client=llm_client, logger=logger)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dielangli/Desktop/Coding/AI汉学/workflow/stage3_outlining.py", line 143, in run_stage3_outlining
    raise RuntimeError("阶段三无法开始：2_final_corpus 为空")
RuntimeError: 阶段三无法开始：2_final_corpus 为空
2026-02-24 18:58:06,663 | INFO | 当前项目: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2
2026-02-24 18:58:06,663 | INFO | 执行阶段范围: 1 -> 5
2026-02-24 18:58:06,663 | INFO | 开始执行第 1 阶段
2026-02-24 19:02:46,001 | INFO | 阶段一完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2/1_research_proposal.md
2026-02-24 19:02:46,002 | INFO | 开始执行第 2 阶段
2026-02-24 19:02:46,054 | INFO | 达到 max_fragments=6，提前结束切片。
2026-02-24 19:02:46,054 | INFO | 阶段2.1完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2/_processed_data/kanripo_fragments.jsonl (records=6)
2026-02-24 19:02:46,055 | INFO | llm1 从 index=0 开始处理，总量=6
2026-02-24 19:02:46,058 | INFO | llm2 从 index=0 开始处理，总量=6
2026-02-24 19:04:06,931 | INFO | 阶段2.2完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2/2_llm1_raw.jsonl, /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2/2_llm2_raw.jsonl
2026-02-24 19:04:06,935 | WARNING | 阶段2.4触发冷启动保底：final corpus 为空，自动保留 6 条样本。
2026-02-24 19:04:06,936 | INFO | 阶段2.3-2.4完成: consensus=0 disputed=0 verified=0 final=6
2026-02-24 19:04:06,936 | INFO | 开始执行第 3 阶段
2026-02-24 19:05:55,434 | INFO | 阶段三完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/api_e2e_fullrun_v2/3_outline_matrix.json
2026-02-24 19:05:55,435 | INFO | 开始执行第 4 阶段
2026-02-24 19:12:08,235 | INFO | 当前项目: /Users/dielangli/Desktop/Coding/AI汉学/outputs/strict_pipeline_demo
2026-02-24 19:12:08,235 | INFO | 执行阶段范围: 1 -> 5
2026-02-24 19:12:08,235 | INFO | 开始执行第 1 阶段
2026-02-24 19:16:04,700 | INFO | 阶段一完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/strict_pipeline_demo/1_research_proposal.md
2026-02-24 19:16:04,700 | INFO | 开始执行第 2 阶段
2026-02-24 19:16:04,742 | INFO | 阶段二尝试 #1，max_fragments=20
2026-02-24 19:16:04,745 | INFO | 达到 max_fragments=20，提前结束切片。
2026-02-24 19:16:04,745 | INFO | 阶段2.1完成: /Users/dielangli/Desktop/Coding/AI汉学/outputs/strict_pipeline_demo/_processed_data/kanripo_fragments.jsonl (records=20)
2026-02-24 19:16:04,746 | INFO | llm1 从 index=0 开始处理，总量=20
2026-02-24 19:16:04,751 | INFO | llm2 从 index=0 开始处理，总量=20
